<?xml version="1.0" encoding="utf-8"?>
<PreferenceScreen xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <PreferenceCategory
        android:title="Personalization"
        app:iconSpaceReserved="false">

        <SwitchPreferenceCompat
            android:key="dark_mode"
            android:title="Dark Mode"
            android:summary="Enable dark theme for the app"
            app:iconSpaceReserved="false" />

        <ListPreference
            android:key="language"
            android:title="Language"
            android:summary="Select your preferred language"
            android:entries="@array/language_entries"
            android:entryValues="@array/language_values"
            android:defaultValue="en"
            app:iconSpaceReserved="false" />
    </PreferenceCategory>

    <PreferenceCategory
        android:title="Dietary Preferences"
        app:iconSpaceReserved="false">

        <MultiSelectListPreference
            android:key="dietary_restrictions"
            android:title="Dietary Restrictions"
            android:summary="Select any dietary restrictions"
            android:entries="@array/dietary_restriction_entries"
            android:entryValues="@array/dietary_restriction_values"
            app:iconSpaceReserved="false" />

        <EditTextPreference
            android:key="calorie_goal"
            android:title="Daily Calorie Goal"
            android:summary="Set your daily calorie target"
            android:inputType="number"
            app:iconSpaceReserved="false" />
    </PreferenceCategory>

    <PreferenceCategory
        android:title="Notifications"
        app:iconSpaceReserved="false">

        <SwitchPreferenceCompat
            android:key="notifications_enabled"
            android:title="Enable Notifications"
            android:summary="Receive reminders and updates"
            android:defaultValue="true"
            app:iconSpaceReserved="false" />

        <MultiSelectListPreference
            android:key="notification_types"
            android:title="Notification Types"
            android:summary="Choose which notifications to receive"
            android:entries="@array/notification_type_entries"
            android:entryValues="@array/notification_type_values"
            android:dependency="notifications_enabled"
            app:iconSpaceReserved="false" />

        <SeekBarPreference
            android:key="reminder_frequency"
            android:title="Reminder Frequency"
            android:summary="How often to receive reminders"
            android:max="24"
            android:defaultValue="8"
            android:dependency="notifications_enabled"
            app:showSeekBarValue="true"
            app:iconSpaceReserved="false" />
    </PreferenceCategory>

    <PreferenceCategory
        android:title="Data &amp; Privacy"
        app:iconSpaceReserved="false">

        <SwitchPreferenceCompat
            android:key="data_sync"
            android:title="Sync Data"
            android:summary="Automatically sync your nutrition data"
            android:defaultValue="true"
            app:iconSpaceReserved="false" />

        <Preference
            android:key="clear_history"
            android:title="Clear History"
            android:summary="Delete all nutrition and scanning history"
            app:iconSpaceReserved="false" />
    </PreferenceCategory>

    <PreferenceCategory
        android:title="About"
        app:iconSpaceReserved="false">

        <Preference
            android:key="app_version"
            android:title="App Version"
            app:iconSpaceReserved="false" />

        <Preference
            android:key="privacy_policy"
            android:title="Privacy Policy"
            android:summary="Read our privacy policy"
            app:iconSpaceReserved="false" />
    </PreferenceCategory>

</PreferenceScreen>